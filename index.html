<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <title>Megana Restaurant | 3D Experience</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        :root {
            --megana-red: #e41d27;
            --megana-yellow: #ffd300;
            --text-light: #f7f7f7;
        }

        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family: sans-serif;
            background: #08080c;
            color: var(--text-light);
            min-height: 100vh;
            padding: 10px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            font-size: clamp(1.8rem, 4vw, 3rem);
        }

        /* Logo */
        .logo-circle {
            width: 90px;
            height: 90px;
            margin: 15px auto;
            border-radius: 50%;
            background: radial-gradient(circle, var(--megana-yellow), var(--megana-red));
            border: 4px solid var(--megana-yellow);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-circle span {
            font-size: 2.5rem;
            font-weight: 900;
        }

        /* 3D Scene */
        .scene {
            width: 100%;
            height: 340px;
            perspective: 1000px;
            margin: 0 auto;
        }

        /* Smaller screens */
        @media (max-width: 480px) {
            .scene {
                height: 280px;
                perspective: 700px;
            }
        }

        .carousel {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.7s ease;
        }

        .card3d {
            position: absolute;
            top: 50%;
            left: 50%;
            width: clamp(180px, 45vw, 260px);
            height: clamp(230px, 55vw, 320px);
            background: #11131a;
            border-radius: 18px;
            padding: 16px;
            color: var(--text-light);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
        }

        /* Mobile: reduce brightness & size */
        @media (max-width: 480px) {
            .card3d {
                padding: 12px;
            }
        }

        .card-title {
            margin-top: 12px;
            font-size: 1.1rem;
            font-weight: bold;
        }

        .card-text {
            font-size: 0.85rem;
            margin-top: 8px;
            opacity: 0.9;
            line-height: 1.5;
        }

        .card-footer {
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
        }

        .card-cta {
            background: var(--megana-red);
            padding: 7px 12px;
            border-radius: 12px;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        /* Controls */
        .carousel-controls {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 10px;
            align-items: center;
        }

        .ctrl-btn {
            padding: 7px 14px;
            background: #222;
            border: 1px solid #555;
            color: #fff;
            border-radius: 12px;
            cursor: pointer;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #777;
        }

        .dot.active {
            background: var(--megana-yellow);
        }
    </style>
</head>

<body>

<header>
    <h1><span style="color:#e41d27;">M</span><span style="color:#ffd300;">egana</span> Restaurant</h1>
    <div class="logo-circle"><span>M</span></div>
</header>

<div class="scene">
    <div class="carousel" id="carousel">

        <article class="card3d">
            <h2 class="card-title">ساندويتش ميجانا</h2>
            <p class="card-text">وصفة خاصة مع صوص ميجانا السري.</p>
            <div class="card-footer">
                <span>الأكثر طلباً</span>
                <button class="card-cta">اطلب الآن</button>
            </div>
        </article>

        <article class="card3d">
            <h2 class="card-title">مشاوي على الجمر</h2>
            <p class="card-text">كباب، شيش طاووق وريش.</p>
            <div class="card-footer">
                <span>مشويات</span>
                <button class="card-cta">احجز الآن</button>
            </div>
        </article>

        <article class="card3d">
            <h2 class="card-title">بيتزا ميجانا</h2>
            <p class="card-text">جبن موزاريلا وصوص مميز.</p>
            <div class="card-footer">
                <span>بيتزا</span>
                <button class="card-cta">اعرض المنيو</button>
            </div>
        </article>

        <article class="card3d">
            <h2 class="card-title">فروعنا</h2>
            <p class="card-text">الحدائق – فينيسيا – قاريونس</p>
            <div class="card-footer">
                <span>قريب منك</span>
                <button class="card-cta">اتصل بنا</button>
            </div>
        </article>

    </div>
</div>

<div class="carousel-controls">
    <button class="ctrl-btn" id="prevBtn">◀</button>
    <div style="display:flex; gap:4px;">
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
    <button class="ctrl-btn" id="nextBtn">▶</button>
</div>

<script>
    const carousel = document.getElementById("carousel");
    const cards = [...document.querySelectorAll(".card3d")];
    const dots = [...document.querySelectorAll(".dot")];
    const total = cards.length;
    let index = 0;

    function updateCarousel() {
        const angle = index * -(360 / total);
        const z = window.innerWidth < 480 ? 300 : 430; // mobile smaller

        carousel.style.transform = `translateZ(-${z}px) rotateY(${angle}deg)`;

        cards.forEach((card, i) => {
            const step = 360 / total;
            card.style.transform =
                `translate(-50%, -50%) rotateY(${i * step}deg) translateZ(${z}px)`;
        });

        dots.forEach((d, i) => d.classList.toggle("active", i === index));
    }

    updateCarousel();

    document.getElementById("nextBtn").onclick = () => {
        index = (index + 1) % total;
        updateCarousel();
    };

    document.getElementById("prevBtn").onclick = () => {
        index = (index - 1 + total) % total;
        updateCarousel();
    };

    /* Touch Swipe for Phones */
    let startX = 0;

    carousel.addEventListener("touchstart", e => {
        startX = e.touches[0].clientX;
    });

    carousel.addEventListener("touchend", e => {
        const diff = e.changedTouches[0].clientX - startX;

        if (diff > 40) { index = (index - 1 + total) % total; updateCarousel(); }
        if (diff < -40) { index = (index + 1) % total; updateCarousel(); }
    });

    /* Auto rotate */
    setInterval(() => {
        index = (index + 1) % total;
        updateCarousel();
    }, 5500);
</script>

</body>
</html>
